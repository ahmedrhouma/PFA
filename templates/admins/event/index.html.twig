<div
	class="app-body">
	<!-- ############ PAGE START-->
	<div class="row-col">
		<div class="col-lg b-r">
			<div class="padding">
				<div class="row">
					<div class="col-sm-12">
						<div style="border-top: #2196f3  solid;" class="box">
							<div class="card ">

								<div class="card-body " >

									<div class="row">


										<div class="col-3 Status">
											<h6 for="Status">Status</h6>
										</div>
										<div class="col-9">
											<h6>Periode</h6>
											<div class="row">
												<div class="col-6">
													<div class="row">
														<label  style="line-height: 32px;"  class="col-3"  for="begin">de  :</label>
														<input style="height: 35px;"  class="form-control col-9" type="date" id="begin"/>
													</div>
												</div>
												<div class="col-6">
													<div class="row">
														<label  style="line-height: 32px;" class="col-3" for="end">Jusqu'a :</label>
														<input style="height: 35px;"  class="form-control  col-9" type="date" id="end"/>
													</div>
												</div>
											</div>


										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="box" style="border-top: #2196f3  solid;">
							<div class="box-header">
								<strong>liste des evenements</strong>
								<a class="label primary pull-right" href="{{ path('event_new') }}">Ajouter
																																																																																	                                        nouveau</a>
								<!--modals-->
							</div>

							<table class="table dt-responsive dataTable no-footer dtr-inline" id="example1" style="width: 100%">
								<thead>
									<tr>
										<th></th>
										<th>
											Nom de l'evenement
											<svg style="font-size: 15px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" d="M11 3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
												<path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L11 3.707 8.354 6.354a.5.5 0 1 1-.708-.708l3-3zm-9 7a.5.5 0 0 1 .708 0L5 12.293l2.646-2.647a.5.5 0 1 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
												<path fill-rule="evenodd" d="M5 2.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5z"/>
											</svg>
										</th>
										<th>
											Status
											<svg style="font-size: 15px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" d="M11 3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
												<path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L11 3.707 8.354 6.354a.5.5 0 1 1-.708-.708l3-3zm-9 7a.5.5 0 0 1 .708 0L5 12.293l2.646-2.647a.5.5 0 1 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
												<path fill-rule="evenodd" d="M5 2.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5z"/>
											</svg>
										</th>
										<th>
											Date du debut
											<svg style="font-size: 15px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" d="M11 3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
												<path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L11 3.707 8.354 6.354a.5.5 0 1 1-.708-.708l3-3zm-9 7a.5.5 0 0 1 .708 0L5 12.293l2.646-2.647a.5.5 0 1 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
												<path fill-rule="evenodd" d="M5 2.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5z"/>
											</svg>
										</th>
										<th>
											Date du fin
											<svg style="font-size: 15px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" d="M11 3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
												<path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L11 3.707 8.354 6.354a.5.5 0 1 1-.708-.708l3-3zm-9 7a.5.5 0 0 1 .708 0L5 12.293l2.646-2.647a.5.5 0 1 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
												<path fill-rule="evenodd" d="M5 2.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5z"/>
											</svg>
										</th>
										<th>
											dur√©e (Jours)
											<svg style="font-size: 15px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" d="M11 3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
												<path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L11 3.707 8.354 6.354a.5.5 0 1 1-.708-.708l3-3zm-9 7a.5.5 0 0 1 .708 0L5 12.293l2.646-2.647a.5.5 0 1 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
												<path fill-rule="evenodd" d="M5 2.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5z"/>
											</svg>
										</th>
										<th class="pull-right">
											Actions
										</th>
									</tr>
									<tr>
										<th></th>
										<th class="filterhead" id="Evenement"></th>
										<th class="filterhead" id="Status"></th>
										<th></th>
										<th></th>
										<th></th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									{% for event in events %}
										<tr>
											<td>
												<img style="width: 50px" class="rounded-circle" src="/uploads/{{ event.photo }}" alt="">
											</td>
											<td>
												{{ event.title }}
											</td>
											<td>
												{% if event.status == 0 %}
													Attente
												{% elseif event.status == 1 %}
													En cours
												{% elseif event.status == 2 %}
													Terminer
												{% endif %}
											</td>
											<td>
												{{ event.dateStart ? event.dateStart|date('Y-m-d') : '' }}
											</td>
											<td>
												{{ event.dateEnd ? event.dateEnd|date('Y-m-d') : '' }}
											</td>
											<td>
												{{ event.duration }}
											</td>

											<td>
												<span class="pull-right">
													{% if event.status == 0 %}

														{{ include('admins/event/updateInIndex/_start_form.html.twig') }}

														{{ include('admins/event/updateInIndex/_delete_form.html.twig') }}

													{% elseif event.status == 1 %}

														{{ include('admins/event/updateInIndex/_stop_form.html.twig') }}

														{{ include('admins/event/updateInIndex/_pause_form.html.twig') }}

													{% elseif event.status == 2 %}

														{{ include('admins/event/updateInIndex/_delete_form.html.twig') }}

													{% endif %}

													<a class="label danger " href="{{ path('event_show', {'id': event.id}) }}">Montrer</a>
													{% if event.status == 0 %}
														<a class="label success " href="{{ path('event_edit', {'id': event.id}) }}">Modifier</a>
													{% endif %}
												</span>
											</td>
										</tr>
									{% else %}
										<tr>
											<td colspan="8">
												no records found
											</td>
										</tr>
									{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- ############ PAGE END-->


	<script src="{{ asset('assets/sweetAlert2/sweetalert2.all.min.js') }}"></script>
	<script>
		let error = {{ error }}
if (error == 1) {
Swal.fire({icon: 'success', title: "{{ title }}", text: "{{ text }}", footer: "{{ footer }}"})

}
 $.fn.dataTable.ext.search.push(
                function( settings, data, dataIndex ) {
                var min = $('#begin').val();
                var max =  $('#end').val();
                var date1 = data[3]  || 0; 
                var date2 =  data[4]  || 0;
                if (  (min=="" && max=="" )||
                     ( new Date(date2).getTime() <= new Date(max).getTime() && new Date(date1).getTime() >= new Date(min).getTime())||
                     ( max==""  && (new Date(date1).getTime() >= new Date(min).getTime()) )||
                     ( min==""  && (new Date(date2).getTime() <= new Date(max).getTime()) ))
                {
                    return true;
                }
                return false;
                }
            );

function fire() {
Swal.fire({title: 'Stop Contributor', showCancelButton: true, html: 'This action will stop the activity of this contributor. Would you like to continue?'}).then((result) => {
if (result.value) {
$('#update').submit();
}
})
}
	</script>
</div>
